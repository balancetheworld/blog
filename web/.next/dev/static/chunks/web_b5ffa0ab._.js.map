{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/zyj/%E4%BB%A3%E7%A0%81%E6%96%87%E4%BB%B6%E5%A4%B9/%E6%88%91%E7%9A%84%E4%BB%A3%E7%A0%81/blog/my-blog/web/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,2SAAgB,MAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6TAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,4DACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2SAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6TAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2SAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6TAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2SAAgB,OAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6TAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2SAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6TAAC;QAAI,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2SAAgB,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6TAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///Users/zyj/%E4%BB%A3%E7%A0%81%E6%96%87%E4%BB%B6%E5%A4%B9/%E6%88%91%E7%9A%84%E4%BB%A3%E7%A0%81/blog/my-blog/web/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,qPAAG,EACvB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,6TAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS"}},
    {"offset": {"line": 159, "column": 0}, "map": {"version":3,"sources":["file:///Users/zyj/%E4%BB%A3%E7%A0%81%E6%96%87%E4%BB%B6%E5%A4%B9/%E6%88%91%E7%9A%84%E4%BB%A3%E7%A0%81/blog/my-blog/web/lib/format.ts"],"sourcesContent":["/*\n * @Author: error: error: git config user.name & please set dead value or install git && error: git config user.email & please set dead value or install git & please set dead value or install git\n * @Date: 2026-01-27 21:10:20\n * @LastEditors: error: error: git config user.name & please set dead value or install git && error: git config user.email & please set dead value or install git & please set dead value or install git\n * @LastEditTime: 2026-01-27 21:10:27\n * @FilePath: /blog/my-next-app/lib/format.ts\n * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\n */\nexport function formatDate(date: string | number | Date): string {\n  const dateObj = typeof date === 'number' ? new Date(date) : (typeof date === 'string' ? new Date(date) : date)\n  return dateObj.toLocaleDateString('zh-CN', {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric'\n  })\n}\n\nexport function formatDateShort(date: string | number | Date): string {\n  const dateObj = typeof date === 'number' ? new Date(date) : (typeof date === 'string' ? new Date(date) : date)\n  return dateObj.toLocaleDateString('zh-CN', {\n    month: 'short',\n    day: 'numeric'\n  })\n}\n"],"names":[],"mappings":"AAAA;;;;;;;CAOC;;;;;;AACM,SAAS,WAAW,IAA4B;IACrD,MAAM,UAAU,OAAO,SAAS,WAAW,IAAI,KAAK,QAAS,OAAO,SAAS,WAAW,IAAI,KAAK,QAAQ;IACzG,OAAO,QAAQ,kBAAkB,CAAC,SAAS;QACzC,MAAM;QACN,OAAO;QACP,KAAK;IACP;AACF;AAEO,SAAS,gBAAgB,IAA4B;IAC1D,MAAM,UAAU,OAAO,SAAS,WAAW,IAAI,KAAK,QAAS,OAAO,SAAS,WAAW,IAAI,KAAK,QAAQ;IACzG,OAAO,QAAQ,kBAAkB,CAAC,SAAS;QACzC,OAAO;QACP,KAAK;IACP;AACF"}},
    {"offset": {"line": 194, "column": 0}, "map": {"version":3,"sources":["file:///Users/zyj/%E4%BB%A3%E7%A0%81%E6%96%87%E4%BB%B6%E5%A4%B9/%E6%88%91%E7%9A%84%E4%BB%A3%E7%A0%81/blog/my-blog/web/app/admin/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport Link from \"next/link\"\nimport useSWR, { mutate } from \"swr\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { formatDate } from \"@/lib/format\"\nimport type { Post } from \"@/lib/store\"\n\nconst fetcher = (url: string) => fetch(url).then(res => res.json())\n\nexport default function AdminPage() {\n  const { data: posts, isLoading } = useSWR<Post[]>(\"/api/posts/admin\", fetcher)\n  const [deleting, setDeleting] = useState<string | null>(null)\n\n  async function handleDelete(id: string) {\n    if (!confirm(\"确定要删除这篇文章吗？\")) return\n\n    setDeleting(id)\n    try {\n      await fetch(`/api/posts/${id}`, { method: \"DELETE\" })\n      mutate(\"/api/posts/admin\")\n    } finally {\n      setDeleting(null)\n    }\n  }\n\n  async function handleTogglePublish(post: Post) {\n    await fetch(`/api/posts/${post.id}`, {\n      method: \"PUT\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ published: !post.published }),\n    })\n    mutate(\"/api/posts/admin\")\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <div className=\"text-muted-foreground\">加载中...</div>\n      </div>\n    )\n  }\n\n  return (\n    <div>\n      <div className=\"mb-8 flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold tracking-tight\">文章管理</h1>\n          <p className=\"mt-1 text-muted-foreground\">\n            管理和编辑你的博客文章\n          </p>\n        </div>\n        <Link href=\"/admin/new\">\n          <Button>\n            <svg\n              className=\"mr-2 h-4 w-4\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n            >\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n            </svg>\n            新建文章\n          </Button>\n        </Link>\n      </div>\n\n      {!posts || posts.length === 0 ? (\n        <Card>\n          <CardContent className=\"flex flex-col items-center justify-center py-12\">\n            <p className=\"mb-4 text-muted-foreground\">暂无文章</p>\n            <Link href=\"/admin/new\">\n              <Button>创建第一篇文章</Button>\n            </Link>\n          </CardContent>\n        </Card>\n      ) : (\n        <Card>\n          <CardHeader>\n            <CardTitle>所有文章 ({posts.length})</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"divide-y divide-border\">\n              {posts.map(post => (\n                <div\n                  key={post.id}\n                  className=\"flex items-center justify-between gap-4 py-4 first:pt-0 last:pb-0\"\n                >\n                  <div className=\"min-w-0 flex-1\">\n                    <div className=\"flex items-center gap-2\">\n                      <h3 className=\"truncate font-medium\">{post.title}</h3>\n                      <Badge variant={post.published ? \"default\" : \"secondary\"}>\n                        {post.published ? \"已发布\" : \"草稿\"}\n                      </Badge>\n                    </div>\n                    <p className=\"mt-1 text-sm text-muted-foreground\">\n                      创建于 {formatDate(post.createdAt)}\n                    </p>\n                  </div>\n\n                  <div className=\"flex items-center gap-2\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => handleTogglePublish(post)}\n                    >\n                      {post.published ? \"取消发布\" : \"发布\"}\n                    </Button>\n                    <Link href={`/admin/edit/${post.id}`}>\n                      <Button variant=\"outline\" size=\"sm\">\n                        编辑\n                      </Button>\n                    </Link>\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      className=\"text-destructive hover:text-destructive bg-transparent\"\n                      onClick={() => handleDelete(post.id)}\n                      disabled={deleting === post.id}\n                    >\n                      {deleting === post.id ? \"删除中...\" : \"删除\"}\n                    </Button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}